"use strict";(self["webpackChunkmairi"]=self["webpackChunkmairi"]||[]).push([[564],{3367:(e,t,n)=>{n.d(t,{j:()=>s});var o=n(1959);const a=[{name:"餅よもぎ",kana:"もちよもぎ",born:new Date("1985-08-28T00:00:00+09:00"),age:30,title:"同人声優",rip:new Date("2016-04-01T00:00:00+09:00")},{name:"餅よもぎ2",kana:"もちよもぎ",born:new Date("1985-08-28T00:00:00+09:00"),age:30,title:"同人声優",rip:new Date("2016-04-01T00:00:00+09:00")}];class r{constructor(){this.db=(0,o.qj)({persons:a})}static get getInstance(){return this.instance||(this.instance=new r),this.instance}}function s(){return r.getInstance}},4564:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var o=n(3673),a=n(2323);const r={class:"text-h4"},s={class:"text-subtitle1"},u={class:"text-subtitle1"},i={class:"text-subtitle1"},l=(0,o._)("div",null,"先週:"+(0,a.zw)(11)+"人 先月:"+(0,a.zw)(70)+"人 今年:"+(0,a.zw)(300)+"人が訪れました。",-1),c=(0,o._)("div",{class:"text-h6"},"線香",-1),d=(0,o._)("div",{class:"text-h6"},"メッセージ",-1),p=(0,o._)("button",null,"送信",-1),w={class:"row inline justify-center"},g={class:"message-text"};function f(e,t,n,f,D,x){const h=(0,o.up)("q-card-section"),y=(0,o.up)("q-card"),k=(0,o.up)("kouro"),m=(0,o.up)("q-input"),_=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(_,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{flat:"",class:"profile-box"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o._)("div",r,(0,a.zw)(e.person.name),1),(0,o._)("div",s,(0,a.zw)(e.person.kana),1),(0,o._)("div",u,(0,a.zw)(e.date.formatDate(e.person.born,"YYYY"))+" - "+(0,a.zw)(e.date.formatDate(e.person.rip,"YYYY")),1),(0,o._)("div",i,(0,a.zw)(e.person.title),1)])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,"亡くなってから"+(0,a.zw)(`${e.sinceAfterRip.year}年${e.sinceAfterRip.days}日`)+"が過ぎました。",1),(0,o._)("div",null,(0,a.zw)(e.person.age)+"歳で亡くなりました。現在の年齢は"+(0,a.zw)(e.getNowAge(e.person.born))+"歳です。",1),(0,o._)("div",null,(0,a.zw)(e.date.formatDate(e.person.born,"YYYY年MM月DD日"))+"に誕生、"+(0,a.zw)(e.date.formatDate(e.person.rip,"YYYY年MM月DD日"))+"に亡くなりました。",1),(0,o._)("div",null,"次の法要は"+(0,a.zw)(e.nextHoyoDays(e.person.rip))+"日後、"+(0,a.zw)(e.date.formatDate(e.nextHoyoDate(e.person.rip),"YYYY年MM月DD日"))+"です。",1),(0,o._)("div",null,"今日は"+(0,a.zw)(e.nextHoyoDays(e.person.rip))+"人が訪れました。",1),l])),_:1})])),_:1}),(0,o.Wm)(y,{flat:"",class:"profile-box"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[c])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k)])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[d,(0,o.Wm)(m,{type:"textarea",outlined:""}),p])),_:1})])),_:1}),(0,o._)("div",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.text,(e=>((0,o.wg)(),(0,o.j4)(y,{key:e,class:"message-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o._)("div",g,(0,a.zw)(e),1)])),_:2},1024)])),_:2},1024)))),128))])])),_:1})}var D=n(3367),x=n(7645);const h=e=>((0,o.dD)("data-v-69b88823"),e=e(),(0,o.Cn)(),e),y={style:{width:"300px",height:"300px",margin:"0 auto"}},k={viewBox:"0 0 1000.0 1000.0"},m=h((()=>(0,o._)("image",{style:{width:"1000px",height:"1000px"},"xlink:href":"/img/kouro.png"},null,-1))),_=["x1","y1","x2","y2","stroke"],v=["x1","y1","x2","y2"];function Y(e,t,n,r,s,u){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",y,[((0,o.wg)(),(0,o.iD)("svg",k,[m,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.useKouroStore().db.senkou,(e=>((0,o.wg)(),(0,o.iD)(o.HY,{key:e},[(0,o._)("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:e.color,"stroke-width":"2"},null,8,_),(0,o._)("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y1-20,stroke:"orange","stroke-width":"3"},null,8,v)],64)))),128))]))]),(0,o._)("button",{onClick:t[0]||(t[0]=t=>e.useKouroStore().addSenkou())},"線香を上げる"),(0,o._)("div",null,"線香:"+(0,a.zw)(e.useKouroStore().db.senkou.length),1)])}var b=n(1959);const z={x1:500,x2:500,y1:300,y2:600,color:"green",putDate:new Date};class Z{constructor(){this.db=(0,b.qj)({senkou:[z]})}senkouIsOdd(){return this.db.senkou.length%2==0}getRandomSenkou(e="green"){const t=Math.floor(151*Math.random()),n=t%10>=6?t:t+5,o=20;return 0==this.db.senkou.length?{x1:500,x2:500,y1:305,y2:605,color:e,putDate:new Date}:this.db.senkou.length%2==0?{x1:500+n,x2:500+n,y1:305+t%o,y2:605+t%o,color:e,putDate:new Date}:{x1:500-n,x2:500-n,y1:305+t%o,y2:605+t%o,color:e,putDate:new Date}}addSenkou(e="green"){this.db.senkou.push(this.getRandomSenkou(e))}startUpdateKouro(){const e=1e4;function t(t,n){return new Date(t.getTime()+n*e)}setInterval((()=>{this.db.senkou=this.db.senkou.filter((e=>new Date<t(e.putDate,30))),this.db.senkou=this.db.senkou.map((e=>(e.y1+10<e.y2&&(e.y1+=10),e)))}),e)}static get getInstance(){return this.instance||(this.instance=new Z,this.instance.startUpdateKouro()),this.instance}}function M(){return Z.getInstance}const S=["green","pink","gray"],W=(0,o.aZ)({setup(){const e=(0,b.iH)(S[0]);return{useKouroStore:M,colors:S,color:e}}});var H=n(4260);const K=(0,H.Z)(W,[["render",Y],["__scopeId","data-v-69b88823"]]),I=K,j=["ふと思い出してしまうのはどうしてでしょうか。\n悲しくて堪らなくて、もう2度と聞けないと思っていたあなたの声を集め直しました。やはり、悲しくて最後まで聞けませんでした。こんなにも素敵なものを生み出してくれてありがとうございます。受け入れられない私をどうか許してください。","ふと思い出してしまうのはどうしてでしょうか。","ふと思い出してしまうのはどうしてでしょうか。悲しくて堪らなくて、もう2度と聞けないと思っていたあなたの声を集め直しました。やはり、悲しくて最後まで聞けませんでした。こんなにも素敵なものを生み出してくれてありがとうございます。受け入れられない私をどうか許してください。","ふと思い出してしまうのはどうしてでしょうか。悲しくて堪らなくて、もう2度と聞けないと思っていたあなたの声を集め直しました。やはり、悲しくて最後まで聞けませんでした。こんなにも素敵なものを生み出してくれてありがとうございます。","ふと思い出してしまうのはどうしてでしょうか。悲しくて堪らなくて、もう2度と聞けないと思っていたあなたの声を集め直しました。やはり、悲しくて最後まで聞けませんでした。こんなにも素敵なものを生み出してくれてありがとうございます。受け入れられない私をどうか許してください。","ふと思い出してしまうのはどうしてでしょうか。悲しくて堪らなくて、もう2度と聞けないと思っていたあなたの声を集め直しました。やはり、悲しくて最後まで聞けませんでした。こんなにも素敵なものを生み出してくれてありがとうございます。受け入れられない私をどうか許してください。"],F=(0,o.aZ)({components:{Kouro:I},props:{name:String},setup(e){const t=(0,D.j)().db.persons.filter((t=>t.name==e.name)),n=t[0],o=new Date;function a(e){return e.getMonth()+1}function r(e,t){var n=0;function o(e){return e%4==0&&!(e%100==0)}for(var r=e.getFullYear();r<=t.getFullYear();r++)r==e.getFullYear()?a(e)<=2&&o(r)&&n++:r==t.getFullYear()?a(e)>2&&o(r)&&n++:o(r)&&n++;return n}function s(e){const t=new Date,n=u(e);return x.ZP.getDateDiff(n,t),x.ZP.getDateDiff(n,t)}function u(e){const t=new Date;var n=new Date(`${t.getFullYear()}-${a(e)}-${e.getDate()}`);return console.log(n,t.getMonth()),t>n&&n.setFullYear(n.getFullYear()+1),n}function i(e,t){const n=x.ZP.getDateDiff(e,t),o=~~(n/365),a=r(t,e),s=(n-a)%365;return{year:o,days:s}}function l(e){const t=x.ZP.getDateDiff(o,e),n=r(e,o),a=~~((t-n)/365);return a}const c=i(o,n.rip);return{date:x.ZP,sinceAfterRip:c,person:n,getNowAge:l,nextHoyoDays:s,nextHoyoDate:u,text:j}}});var q=n(4379),C=n(151),P=n(5589),A=n(1439),R=n(7518),T=n.n(R);const $=(0,H.Z)(F,[["render",f]]),Q=$;T()(F,"components",{QPage:q.Z,QCard:C.Z,QCardSection:P.Z,QInput:A.Z})}}]);